{"remainingRequest":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stanislaw/WebstormProjects/ticket-schedule/src/components/admin/tools/Ticket/components/TicketList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/src/components/admin/tools/Ticket/components/TicketList.vue","mtime":1561156959893},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/cache-loader/dist/cjs.js","mtime":1547214326837},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/babel-loader/lib/index.js","mtime":1547214326591},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/cache-loader/dist/cjs.js","mtime":1547214326837},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/vue-loader/lib/index.js","mtime":1547214332895}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TicketRedaction from './TicketRedaction'\nimport { mapGetters } from 'vuex';\n\nexport default {\n    name: \"TicketList\",\n    data: function () {\n        return {\n            activeTicketRedactId: false\n        }\n    },\n    props: {\n        items: {\n\n        },\n        tickets: {\n\n        }\n    },\n    components: {\n        TicketRedaction\n    },\n    methods: {\n        openRedact: function (id) {\n            this.activeTicketRedactId = id;\n        },\n        remove (item) {\n            this.chips.splice(this.chips.indexOf(item), 1);\n            this.chips = [...this.chips]\n        },\n        removeTicket:  async (item) => {\n            let resp = await window.api.ticket.delete(window.api.storage.getToken(), item);\n\n            if (resp.status === 200) {\n                window.location.reload();\n            }\n        }\n    },\n    computed:{\n        ...mapGetters({\n            stations: 'GET_STATIONS_LIST',\n            search_t: \"GET_ADMIN_SEARCH_TEXT\",\n            search_s: \"GET_ADMIN_SEARCH_SELECT\"\n        })\n    }\n}\n",{"version":3,"sources":["TicketList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TicketList.vue","sourceRoot":"src/components/admin/tools/Ticket/components","sourcesContent":["<template>\n    <v-expansion-panel class=\"ticket-list\">\n        <div v-if=\"tickets.filter(function(obj) {\n                  return String(obj[search_s]).indexOf(String(search_t)) !== -1 || search_t.length < 1\n                }).length < 1\">Записи відсутні</div>\n        <v-expansion-panel-content\n                v-for=\"(item,index) in tickets.filter(function(obj) {\n                  return String(obj[search_s]).indexOf(String(search_t)) !== -1 || search_t.length < 1\n                })\"\n                :key=\"index\"\n                :class=\"{OutOfStock: item.PLACES.length === 0 || item.PLACES[0] === '' }\"\n        >\n            <div slot=\"header\"><v-icon style=\"margin-right: 10px\">fas fa-ticket-alt</v-icon> # {{ index }} ID : {{ item.ID }} - {{ item.NAME }}</div>\n            <v-card>\n                <v-card-text class=\"element\">\n                    <v-layout row wrap>\n                        <v-flex xs12 sm6 md2 lg1>Ціна: {{ item.PRICE }}</v-flex>\n                        <v-flex xs12 sm6 md2 lg1>Відправка: {{ stations.filter(function(v) { return v.ID === item.FROM_PLACE })[0].NAME }} о {{ item.FROM_TIME }}</v-flex>\n                        <v-flex xs12 sm6 md2 lg1>Прибуття: {{ stations.filter(function(v) { return v.ID === item.TO_PLACE })[0].NAME }} о {{ item.TO_TIME }}</v-flex>\n                        <v-flex xs12 sm6 md2 lg1>В дорозі: {{ item.WAY_TIME }}</v-flex>\n                        <v-flex xs12 sm6 md2 lg1>Тип транспорту: {{ item.TYPE === 1 ? 'Train' : \"Bus\" }}</v-flex>\n                        <v-flex xs12 sm6 md2 lg1>Місця: {{ item.PLACES }}</v-flex>\n                        <v-spacer></v-spacer>\n                        <v-flex xs12 sm12 md2 lg1><v-icon v-on:click=\"openRedact(item.ID)\">fas fa-pencil-ruler</v-icon><v-icon class=\"redact-icon\" v-on:click=\"removeTicket(item.ID)\">fas fa-trash</v-icon></v-flex>\n                        <v-flex xs12 sm12 md12 lg12>\n                            <h3 class=\"way-h\">Маршрут</h3>\n                            <div class=\"text-xs-center\" >\n                                <v-chip v-for=\"(station_number, index_s) in item.STATIONS\" :key=\"index_s\">{{ stations.filter(function(v) { return v.ID === parseInt(station_number) })[0] }}</v-chip>\n                            </div>\n                        </v-flex>\n                    </v-layout>\n                </v-card-text>\n            </v-card>\n            <ticket-redaction :f=\"{v: openRedact}\" :items=\"stations\" :activeTicketRedactId=\"{v: activeTicketRedactId}\" :t_stations=\"item.STATIONS\" :item=\"item\"></ticket-redaction>\n        </v-expansion-panel-content>\n    </v-expansion-panel>\n</template>\n\n<script>\n    import TicketRedaction from './TicketRedaction'\n    import { mapGetters } from 'vuex';\n\n    export default {\n        name: \"TicketList\",\n        data: function () {\n            return {\n                activeTicketRedactId: false\n            }\n        },\n        props: {\n            items: {\n\n            },\n            tickets: {\n\n            }\n        },\n        components: {\n            TicketRedaction\n        },\n        methods: {\n            openRedact: function (id) {\n                this.activeTicketRedactId = id;\n            },\n            remove (item) {\n                this.chips.splice(this.chips.indexOf(item), 1);\n                this.chips = [...this.chips]\n            },\n            removeTicket:  async (item) => {\n                let resp = await window.api.ticket.delete(window.api.storage.getToken(), item);\n\n                if (resp.status === 200) {\n                    window.location.reload();\n                }\n            }\n        },\n        computed:{\n            ...mapGetters({\n                stations: 'GET_STATIONS_LIST',\n                search_t: \"GET_ADMIN_SEARCH_TEXT\",\n                search_s: \"GET_ADMIN_SEARCH_SELECT\"\n            })\n        }\n    }\n</script>\n\n<style lang=\"sass\" scoped>\n    .OutOfStock\n        color: red !important\n\n    .ticket-list\n        margin-top: 20px\n\n    .element\n        margin-left: 20px\n\n    .redact-icon\n        padding-left: 20px\n\n    .way-h\n        width: 100%\n        text-align: center\n\n    .place-list-e\n        background-color: rgba(169, 169, 169, 0.31)\n        color: white\n        padding: 5px\n        border-radius: 10px\n        margin-left: 5px\n</style>"]}]}