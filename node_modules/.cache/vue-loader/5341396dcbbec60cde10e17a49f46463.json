{"remainingRequest":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stanislaw/WebstormProjects/ticket-schedule/src/components/admin/tools/Orders/components/OrdersList.vue?vue&type=style&index=0&id=4ac3c9d6&lang=sass&scoped=true&","dependencies":[{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/src/components/admin/tools/Orders/components/OrdersList.vue","mtime":1550557625355},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/css-loader/index.js","mtime":1547214327380},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1547214332896},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/postcss-loader/src/index.js","mtime":1547214329764},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/sass-loader/lib/loader.js","mtime":1547214331198},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/cache-loader/dist/cjs.js","mtime":1547214326837},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/vue-loader/lib/index.js","mtime":1547214332895}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ActiveOrder\n    color: blue !important\n\n.order-list\n    margin-top: 20px\n    display: -webkit-flex /* Safari */\n    -webkit-flex-wrap: wrap /* Safari 6.1+ */\n    display: flex\n    flex-wrap: wrap\n\n    .order\n        margin-left: 20px\n\n    .delete-icon\n        padding-left: 20px\n\n    .user-info\n        margin-left: 20px\n\n    .ticket\n        margin-top: 20px\n\n        .ticket-container\n            padding: 10px 0 0\n\n        .type\n            margin-left: 8px\n            margin-top: 10px\n\n        .name\n            margin-left: 10px\n\n        .order-button-block\n            padding-right: 20px\n\n            .price\n                font-size: 20px\n                color: black !important\n\n        .from\n            height: 260px\n            box-shadow: none\n\n        .stations\n            height: 260px\n            overflow-y: scroll\n            box-shadow: none\n\n\n\n",{"version":3,"sources":["OrdersList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoLA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"OrdersList.vue","sourceRoot":"src/components/admin/tools/Orders/components","sourcesContent":["<template>\n    <v-expansion-panel class=\"order-list\">\n        <div v-if=\"orders.filter(function(obj) {\n                  return String(obj[search_s]).indexOf(String(search_t)) !== -1 || search_t.length < 1\n                }).length < 1\">Записи відсутні</div>\n        <v-expansion-panel-content\n                v-for=\"(item,index) in orders.filter(function(obj) {\n                  return String(obj[search_s]).indexOf(String(search_t)) !== -1 || search_t.length < 1\n                })\"\n                :key=\"index\"\n                :class=\"{ActiveOrder: item.STATUS === 1}\"\n        >\n            <div slot=\"header\"><v-icon style=\"margin-right: 10px\">fas fa-money-bill-alt</v-icon> # {{ index }} ID : {{ item.ID }} - {{ item.CODE }}</div>\n\n            <v-expansion-panel popout>\n                <v-expansion-panel-content>\n                    <div slot=\"header\">Бронювання</div>\n                    <v-card>\n                        <v-card-text class=\"order\">\n                            <v-layout row wrap>\n                                <v-flex xs12 sm12 md4 lg2>Id: {{ item.ID }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg2>Id квитка: {{ item.TICKET_ID }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg2>Id покупця: {{ item.USER_ID }}</v-flex>\n                                <v-flex xs12 sm12 md12 lg2>Код квитка: {{ item.CODE }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg2>Сумма: {{ item.COST }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg2>Відправлення: {{ item.FROM_PLACE }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg2>Прибуття: {{ item.TO_PLACE }}</v-flex>\n                            </v-layout>\n                        </v-card-text>\n                    </v-card>\n                </v-expansion-panel-content>\n            </v-expansion-panel>\n            <v-expansion-panel popout>\n                <v-expansion-panel-content>\n                    <div slot=\"header\">Користувач</div>\n                    <v-card v-for=\"(user, index) in users.filter(function( obj ) { return obj.ID === item.USER_ID })\" :key=\"index\">\n                        <v-card-text class=\"user-info\">\n                            <v-layout row wrap>\n                                <v-flex xs12 sm12 md4 lg3>Id: {{ user.ID }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg3>Імя: {{ user.FIRST_NAME }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg3>Фамілія: {{ user.LAST_NAME }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg3>Email: {{ user.EMAIL }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg3>Стать: {{ user.SEX === 1 ? \"чоловік\" : user.SEX === 2 ? \"жінка\" : \"Не визначено\"}}</v-flex>\n                                <v-flex xs12 sm12 md4 lg3>Активність: {{ user.ONLINE ? \"online\" : \"offline\" }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg3>Статус: {{ user.ACCESS }}</v-flex>\n                                <v-flex xs12 sm12 md4 lg3>Телефон: {{ user.PHONE }}</v-flex>\n                            </v-layout>\n                        </v-card-text>\n                    </v-card>\n                </v-expansion-panel-content>\n            </v-expansion-panel>\n            <v-expansion-panel popout>\n                <v-expansion-panel-content>\n                    <div slot=\"header\">Квиток</div>\n                    <div v-for=\"(ticket, index) in tickets.filter(function( obj ) { return obj.ID === item.TICKET_ID })\" :key=\"index\">\n                        <v-card class=\"ticket\">\n                            <v-container grid-list-md text-xs-center class=\"ticket-container\">\n                                <v-layout row wrap>\n                                    <v-flex xs12 sm6 md6 lg6>\n                                        <v-card-title>\n                                            <v-flex xs12 sm12 md1 lg1>\n                                                <i class=\"material-icons type\">{{ ticket.TYPE === 0 ? \"directions_railway\" : \"directions_bus\"}}</i>\n                                            </v-flex>\n                                            <v-flex xs12 sm12 md11 lg11>\n                                                <h3 class=\"name\">{{ ticket.NAME }}</h3>\n                                            </v-flex>\n                                        </v-card-title>\n                                    </v-flex>\n                                    <v-flex xs12 sm6 md6 lg6>\n                                        <v-card-actions class=\"order-button-block\">\n                                            <v-spacer></v-spacer>\n                                            <v-btn disabled color=\"orange\" class=\"price\">{{ ticket.PRICE }} ₴</v-btn>\n                                        </v-card-actions>\n                                    </v-flex>\n                                    <v-flex xs12 sm6 md6 lg6 >\n                                        <v-stepper vertical class=\"from\">\n                                            <v-stepper-step complete=\"\" complete-icon=\"\">\n                                                {{ stations[ticket.FROM_PLACE-1] }}\n                                                <small>{{ ticket.FROM_TIME | timeNormalizer }}</small>\n                                            </v-stepper-step>\n\n                                            <v-stepper-content >\n\n                                            </v-stepper-content>\n\n                                            <v-stepper-step complete=\"\" complete-icon=\"\">\n                                                {{ ticket.WAY_TIME }}\n                                                <small>час у дорозі</small>\n                                            </v-stepper-step>\n\n                                            <v-stepper-content>\n\n                                            </v-stepper-content>\n\n                                            <v-stepper-step complete=\"\" complete-icon=\"\">\n                                                {{ stations[ticket.TO_PLACE-1] }}\n                                                <small>{{ ticket.TO_TIME }}</small>\n                                            </v-stepper-step>\n                                        </v-stepper>\n                                    </v-flex>\n                                    <v-flex xs12 sm6 md6 lg6>\n                                        Маршрут\n                                        <v-stepper vertical class=\"stations\">\n                                            <v-stepper-step complete=\"\" complete-icon=\"\" v-for=\"(state, s_index) in ticket.STATIONS\" :key=\"s_index\">\n                                                {{ stations[state-1] }}\n                                                <small>Зупинка</small>\n                                            </v-stepper-step>\n\n                                            <v-stepper-content >\n\n                                            </v-stepper-content>\n                                        </v-stepper>\n                                    </v-flex>\n                                </v-layout>\n                            </v-container>\n                        </v-card>\n                    </div>\n                </v-expansion-panel-content>\n            </v-expansion-panel>\n            <v-layout row wrap>\n                <hr style=\"margin-top: 20px; margin-bottom: 20px; margin-left: 5%; width: 90%\">\n                <v-flex xs12 sm12 md12 lg1><v-icon v-on:click=\"CANCEL_ORDER(item.CODE)\" style=\"margin-left: 50px; padding-bottom: 20px\">fas fa-trash</v-icon></v-flex>\n                <v-spacer></v-spacer>\n            </v-layout>\n        </v-expansion-panel-content>\n    </v-expansion-panel>\n</template>\n\n<script>\n    import { mapGetters } from 'vuex';\n\n    export default {\n        name: \"OrdersList\",\n        components: {\n        },\n        props: {\n            stations: {\n\n            },\n            orders:{\n\n            },\n            tickets: {\n\n            },\n            users: {\n\n            }\n        },\n        data: function () {\n            return {\n                activeRedactId: -1\n            }\n        },\n        computed:{\n            ...mapGetters({\n                search_t: \"GET_ADMIN_SEARCH_TEXT\",\n                search_s: \"GET_ADMIN_SEARCH_SELECT\"\n            })\n        },\n        methods: {\n            CANCEL_ORDER: async (code) => {\n                {\n\n                    let resp = await window.api.user.cancelOrder(window.api.storage.getToken(), code);\n\n                    if (resp.status === 200) {\n                        window.location.reload();\n                    }\n\n                }\n            },\n            openRedact: function (id) {\n                this.activeRedactId = id;\n            }\n        }\n    }\n</script>\n\n<style lang=\"sass\" scoped>\n    .ActiveOrder\n        color: blue !important\n\n    .order-list\n        margin-top: 20px\n        display: -webkit-flex /* Safari */\n        -webkit-flex-wrap: wrap /* Safari 6.1+ */\n        display: flex\n        flex-wrap: wrap\n\n        .order\n            margin-left: 20px\n\n        .delete-icon\n            padding-left: 20px\n\n        .user-info\n            margin-left: 20px\n\n        .ticket\n            margin-top: 20px\n\n            .ticket-container\n                padding: 10px 0 0\n\n            .type\n                margin-left: 8px\n                margin-top: 10px\n\n            .name\n                margin-left: 10px\n\n            .order-button-block\n                padding-right: 20px\n\n                .price\n                    font-size: 20px\n                    color: black !important\n\n            .from\n                height: 260px\n                box-shadow: none\n\n            .stations\n                height: 260px\n                overflow-y: scroll\n                box-shadow: none\n\n\n\n</style>"]}]}