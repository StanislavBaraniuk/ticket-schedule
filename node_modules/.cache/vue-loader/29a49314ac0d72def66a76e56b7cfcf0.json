{"remainingRequest":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stanislaw/WebstormProjects/ticket-schedule/src/components/admin/statistic/StatisticTab.vue?vue&type=style&index=0&id=1e9e1f74&lang=sass&scoped=true&","dependencies":[{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/src/components/admin/statistic/StatisticTab.vue","mtime":1549745767430},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/css-loader/index.js","mtime":1547214327380},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1547214332896},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/postcss-loader/src/index.js","mtime":1547214329764},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/sass-loader/lib/loader.js","mtime":1547214331198},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/cache-loader/dist/cjs.js","mtime":1547214326837},{"path":"/Users/stanislaw/WebstormProjects/ticket-schedule/node_modules/vue-loader/lib/index.js","mtime":1547214332895}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.vh100\n        height: 100vh\n\n.dowm-diagram\n        height: 100%\n",{"version":3,"sources":["StatisticTab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;AACA;;AAEA;AACA","file":"StatisticTab.vue","sourceRoot":"src/components/admin/statistic","sourcesContent":["<template>\n        <v-container grid-list-md text-xs-center class=\"tool-block\">\n                <v-layout row wrap>\n                        <v-flex xs12 >\n                                <v-layout row wrap>\n                                        <v-flex xs2>\n                                                <v-card-text class=\"text-xs-center\"><h1>Оберіть період</h1></v-card-text>\n                                        </v-flex>\n                                        <v-spacer></v-spacer>\n                                        <v-flex xs2>\n                                                <v-menu :close-on-content-click=\"false\" :nudge-right=\"40\"\n                                                        lazy\n                                                        transition=\"scale-transition\"\n                                                        offset-y\n                                                        full-width\n                                                        min-width=\"290px\"\n                                                >\n                                                        <v-text-field\n                                                                slot=\"activator\"\n                                                                v-model=\"date\"\n                                                                label=\"Коли?\"\n                                                                placeholder=\"День відправки\"\n                                                                readonly\n                                                        ></v-text-field>\n                                                        <v-date-picker v-model=\"date\"></v-date-picker>\n                                                </v-menu>\n                                        </v-flex>\n                                        <v-flex xs2>\n                                                <v-menu :close-on-content-click=\"false\" :nudge-right=\"40\"\n                                                        lazy\n                                                        transition=\"scale-transition\"\n                                                        offset-y\n                                                        full-width\n                                                        min-width=\"290px\"\n                                                >\n                                                        <v-text-field\n                                                                slot=\"activator\"\n                                                                v-model=\"date2\"\n                                                                label=\"Коли?\"\n                                                                placeholder=\"День відправки\"\n                                                                readonly\n                                                        ></v-text-field>\n                                                        <v-date-picker v-model=\"date\"></v-date-picker>\n                                                </v-menu>\n                                        </v-flex>\n                                </v-layout>\n                        </v-flex>\n                        <v-flex xs12 sm6 md6 lg4>\n                                <count v-bind:list=\"def_profit_list.COSTS.map(function(value) { return parseInt(value); })\" title=\"Прибуток\" symbol=\"₴\" v-bind:time-lapse=\"def_profit_list.DATES\"></count>\n                        </v-flex>\n                        <v-flex xs12 sm6 md6 lg4>\n                                <count v-bind:list=\"def_sales_list.COUNTS.map(function(value) { return parseInt(value); })\" title=\"Продажі\"  symbol=\"Загалом \" v-bind:time-lapse=\"def_sales_list.DATES\"></count>\n                        </v-flex>\n                        <v-flex xs12 sm12 md6 lg2>\n                                <v-card style=\"height: 160px; overflow-x: scroll; overflow-y: hidden\">\n                                        <v-card-text style=\"font-size: 20px; margin-top: 25px\">\n                                                <p>Користувачів</p>\n                                                <p>{{ def_users }}</p>\n                                        </v-card-text>\n                                </v-card>\n                        </v-flex>\n                        <v-flex xs12 sm12 md6 lg2>\n                                <v-card style=\"height: 160px; overflow-x: scroll; overflow-y: hidden\">\n                                        <v-card-text style=\"font-size: 20px; margin-top: 15px\">\n                                                <p>Користувачів</p>\n                                                <p style=\"font-size: 15px; margin-top: -20px\">online</p>\n                                                <p>{{ def_users_online }}</p>\n                                        </v-card-text>\n                                </v-card>\n                        </v-flex>\n                </v-layout>\n\n                <v-layout row wrap>\n                        <v-flex xs12 sm12 md12 lg4>\n                                <circle-diagram class=\"dowm-diagram\" v-bind:value_list=\"def_users_sex\" v-bind:key_list=\"def_users_sex_keys\" title=\"Співвідношення статей\"></circle-diagram>\n                        </v-flex>\n                        <v-flex xs12 sm12 md12 lg8>\n                                <column-info class=\"dowm-diagram\" v-bind:value_list=\"def_ways\" v-bind:key_list=\"def_ways_keys\" title=\"\"></column-info>\n                        </v-flex>\n                </v-layout>\n        </v-container>\n</template>\n\n<script>\n        import { mapGetters } from 'vuex';\n        import Count from \"./components/CountInfo\";\n        import CircleDiagram from \"./components/CircleInfo\";\n        import ColumnInfo from \"./components/ColumnInfo\";\n\n\n\n        export default {\n            name: \"StatisticTab\",\n            components: {\n                    Count,\n                    CircleDiagram,\n                    ColumnInfo\n            },\n            data: () => ({\n                    date: '',\n                    date2: new Date().toJSON().slice(0,10).replace(/-/g,'-'),\n                    // def_profit_list: {\n                    //         DATES: [\"2019-02-09\", \"2019-02-10\", \"2019-02-11\"],\n                    //         COSTS: [45, 90, 100]\n                    // }\n            }),\n            created() {\n                    // this.$store.dispatch(\"SET_STATISTIC_PROFIT_LIST\");\n\n                    window.api.statistic.from = this.date.length === 10 ? this.date : '1900-01-01';\n                    window.api.statistic.to = this.date2;\n\n                    // alert(\"s\" + window.api.statistic.to + \" ss\" + window.api.statistic.from );\n\n                    this.LOAD_PROFIT(this);\n                    this.LOAD_ORDER_COUNT(this);\n                    this.LOAD_USERS(this);\n                    this.LOAD_USERS_ONLINE(this);\n            },\n            computed: {\n                    ...mapGetters({\n                            def_profit_list: 'GET_STATISTIC_PROFIT_LIST',\n                            def_sales_list: 'GET_STATISTIC_SALES_LIST',\n                            def_users: 'GET_STATISTIC_USER_LIST',\n                            def_users_online: 'GET_STATISTIC_USER_ONLINE',\n                            def_time_lapse_list: 'GET_STATISTIC_TIME_LAPSE_LIST',\n                            def_users_sex: 'GET_STATISTIC_USERS_SEX',\n                            def_users_sex_keys: 'GET_STATISTIC_USERS_SEX_KEYS',\n                            def_ways: 'GET_STATISTIC_WAYS',\n                            def_ways_keys: 'GET_STATISTIC_WAYS_KEYS'\n                    })\n            },\n            methods: {\n                    LOAD_PROFIT: async (component) => {\n                            let profit =  await window.api.statistic.order.get_profit(window.api.storage.getCookie(\"token\"));\n\n                            component.$store.dispatch(\"SET_STATISTIC_PROFIT_LIST\", profit.data);\n                    },\n                    LOAD_ORDER_COUNT: async (component) => {\n                            let sales =  await window.api.statistic.order.get_count(window.api.storage.getCookie(\"token\"));\n\n                            component.$store.dispatch(\"SET_STATISTIC_SALES_LIST\", sales.data);\n                    },\n                    LOAD_USERS: async (component) => {\n                            let sales =  await window.api.statistic.client.get_count(window.api.storage.getCookie(\"token\"));\n\n                            component.$store.dispatch(\"SET_STATISTIC_USER_LIST\", sales.data);\n                    },\n                    LOAD_USERS_ONLINE: async (component) => {\n                            let sales =  await window.api.statistic.client.get_count_online(window.api.storage.getCookie(\"token\"));\n\n                            component.$store.dispatch(\"SET_STATISTIC_USER_ONLINE\", sales.data);\n                    },\n            }\n        };\n</script>\n\n<style lang=\"sass\" scoped>\n        .vh100\n                height: 100vh\n\n        .dowm-diagram\n                height: 100%\n</style>"]}]}